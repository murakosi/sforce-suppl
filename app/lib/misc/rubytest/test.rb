h = {:api_creatable=>true, :api_deletable=>true, :api_readable=>true, :api_updatable=>true, :value_type_fields=>[{:is_foreign_key=>false, :is_name_field=>true, :min_occurs=>"0", :name=>"fullName", :soap_type=>"string", :value_required=>true}, {:is_foreign_key=>false, :is_name_field=>false, :min_occurs=>"0", :name=>"categories", :soap_type=>"string", :value_required=>true}, {:is_foreign_key=>false, :is_name_field=>false, :min_occurs=>"1", :name=>"language", :picklist_values=>[{:active=>true, :default_value=>false, :label=>nil, :value=>"en_US"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"de"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"es"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"fr"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"it"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ja"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"sv"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ko"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"zh_TW"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"zh_CN"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"pt_BR"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"nl_NL"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"da"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"th"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"fi"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ru"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"es_MX"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"no"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"hu"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"pl"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"cs"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"tr"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"in"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ro"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"vi"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"uk"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"iw"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"el"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"bg"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"en_GB"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ar"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"sk"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"pt_PT"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"hr"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"sl"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"fr_CA"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ka"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"sr"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"sh"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"en_AU"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"en_MY"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"en_IN"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"en_PH"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"en_CA"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ro_MD"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"bs"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"mk"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"lv"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"lt"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"et"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"sq"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"sh_ME"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"mt"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ga"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"eu"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"cy"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"is"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ms"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"tl"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"lb"}, {:active=>true,:default_value=>false, :label=>nil, :value=>"rm"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"hy"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"hi"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ur"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"bn"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"de_AT"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"de_CH"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ta"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ar_DZ"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ar_BH"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ar_EG"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ar_IQ"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ar_JO"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ar_KW"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ar_LB"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ar_LY"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ar_MA"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ar_OM"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ar_QA"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ar_SA"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ar_SD"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ar_SY"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ar_TN"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ar_AE"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ar_YE"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"zh_SG"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"zh_HK"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"en_HK"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"en_IE"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"en_SG"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"en_ZA"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"fr_BE"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"fr_LU"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"fr_CH"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"de_BE"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"de_LU"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"it_CH"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"nl_BE"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"es_AR"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"es_BO"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"es_CL"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"es_CO"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"es_CR"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"es_DO"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"es_EC"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"es_SV"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"es_GT"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"es_HN"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"es_NI"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"es_PA"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"es_PY"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"es_PE"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"es_PR"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"es_US"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"es_UY"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"es_VE"}, {:active=>true, :default_value=>false, :label=>nil, :value=>"ca"}], :soap_type=>"string", :value_required=>true},{:is_foreign_key=>false, :is_name_field=>false, :min_occurs=>"1", :name=>"protected", :soap_type=>"boolean", :value_required=>true}, {:is_foreign_key=>false, :is_name_field=>false, :min_occurs=>"1", :name=>"shortDescription", :soap_type=>"string", :value_required=>true}, {:is_foreign_key=>false, :is_name_field=>false,:min_occurs=>"1", :name=>"value", :soap_type=>"string", :value_required=>true}]}

#metadata_infor = h.reject{|k,v| k == :value_type_fields}
fields = h[:value_type_fields]
names = []
types = []
fields.each do |hash|
    h = {:readOnly => false}
    if hash[:is_name_field] || hash[:min_occurs].to_i > 0
        names << hash[:name] + "(*)"
    else
        names << hash[:name]
    end
    
    if hash[:soap_type] == "boolean"
        h.merge!({:type => "checkbox", :className => "htCenter htMiddle"})
    elsif hash.has_key?(:picklist_values)
        h.merge!({:type => "autocomplete", :source => hash[:picklist_values].map{|hash| hash[:value]}})
    else
        h.merge!({:type => "text"})
    end
    
    types << h
end

p names
p types

=begin
[{type: "checkbox", readOnly: false, className: "htCenter htMiddle"}]
#data = {id: 1, name: 'Ted', isActive: true, color: 'orange', date: '2015-01-01'}
columns: [
      {data: "id", type: 'text'},
      {data: "name", renderer: yellowRenderer},
      {data: "isActive", type: 'checkbox'},
      {data: "date", type: 'date', dateFormat: 'YYYY-MM-DD'},
      {data: "color",
        type: 'autocomplete',
        source: ["yellow", "red", "orange", "green", "blue", "gray", "black", "white"]
      }
    ],
#value_required:
#soap_type:
Boolean
Date
h[:value_type_fields].each do |hash|
 if hash[:picklist_values].nil?
 p hash[:name]
 p hash[:is_name_field]
 p hash[:min_occurs]
 p hash[:value_required]
 p "-----------"
 end
end
h = {:api_creatable=>true, :api_deletable=>true, :api_readable=>true, :api_updatable=>true, :value_type_fields=>[{:is_foreign_key=>false, :is_name_field=>true}]}
=end